[{"D:\\Rifkli Folder\\BootCamp\\ProductClass\\productclass\\src\\App.js":"1","D:\\Rifkli Folder\\BootCamp\\ProductClass\\productclass\\src\\components\\Footer.js":"2","D:\\Rifkli Folder\\BootCamp\\ProductClass\\productclass\\src\\components\\EditProfile.js":"3"},{"size":1019,"mtime":1608026248734,"results":"4","hashOfConfig":"5"},{"size":2353,"mtime":1608830741038,"results":"6","hashOfConfig":"5"},{"size":3716,"mtime":1608998236324,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1lm62wj",{"filePath":"10","messages":"11","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"12","messages":"13","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},"D:\\Rifkli Folder\\BootCamp\\ProductClass\\productclass\\src\\App.js",[],"D:\\Rifkli Folder\\BootCamp\\ProductClass\\productclass\\src\\components\\Footer.js",["15","16","17","18"],"D:\\Rifkli Folder\\BootCamp\\ProductClass\\productclass\\src\\components\\EditProfile.js",["19","20","21"],"import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport { Edit3 } from 'react-feather'\r\nimport {\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n} from \"reactstrap\";\r\n\r\nconst Edit = (props) => {\r\n  const urlEditProfile = \" https://binar8-jul-hendri.nandaworks.com/auth/update/\";\r\n  \r\n  const { className } = props;\r\n\r\n  const [fullName, setFullName] = useState(\"\");\r\n  // const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [users, setUsers] = useState(\"\");\r\n\r\n  const token = Cookies.get('token');\r\n\r\n  useEffect(() => {\r\n    document.body.style.backgroundColor = \"#E5E5E5\";\r\n\r\n    axios\r\n      .get(` https://binar8-jul-hendri.nandaworks.com/auth/user/`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setFullName(res.data[0].fullName);\r\n        setPassword(res.data[0].password);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    const data = {\r\n      fullName: fullName,\r\n      // email: email,\r\n      password: password\r\n    };\r\n\r\n    axios\r\n      .patch(urlEditProfile, data, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      })\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        Cookies.set(\"fullName\", res.data.name);\r\n        Cookies.set(\"password\", res.data.email);  \r\n        return window.location.reload();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setModal(false);\r\n      });\r\n  };\r\n\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const toggle = () => setModal(!modal);\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        size=\"sm\"\r\n        className=\"mt-2 mr-2 mb-sm-0\"\r\n        style={{color: \"white\", backgroundColor: \"#8F48EA\"}}\r\n        onClick={toggle}>\r\n        <Edit3 size={15}/>\r\n      </Button>\r\n      <Modal isOpen={modal} toggle={toggle} className={className}>\r\n        <ModalHeader toggle={toggle}>\r\n          <p>Please update your data and then click Save.</p>\r\n        </ModalHeader>\r\n        <ModalBody>\r\n          <Form onSubmit={handleSubmit}>\r\n\r\n            <FormGroup>\r\n              <Label for=\"fullName\">Name</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"fullName\"\r\n                id=\"fullName\"\r\n                value={fullName}\r\n                placeholder={fullName}\r\n                onChange={(e) => setFullName(e.target.value)}\r\n              />\r\n            </FormGroup>\r\n\r\n            {/* <FormGroup>\r\n              <Label for=\"email\">Email</Label>\r\n              <Input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                id=\"email\"\r\n                placeholder=\"Input your new email address.\"\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </FormGroup>\r\n */}\r\n            <FormGroup>\r\n              <Label for=\"password\">Password</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"password\"\r\n                id=\"password\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </FormGroup>\r\n\r\n            <FormGroup>\r\n              <Button\r\n                block\r\n                type=\"submit\"\r\n                style={{ backgroundColor: \"#8F48EA\", color: \"white\" }}\r\n              >\r\n                <strong>Save</strong>\r\n              </Button>\r\n            </FormGroup>\r\n          </Form>\r\n        </ModalBody>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Edit;",{"ruleId":"22","severity":1,"message":"23","line":3,"column":21,"nodeType":"24","messageId":"25","endLine":3,"endColumn":24},{"ruleId":"22","severity":1,"message":"26","line":3,"column":31,"nodeType":"24","messageId":"25","endLine":3,"endColumn":36},{"ruleId":"22","severity":1,"message":"27","line":4,"column":40,"nodeType":"24","messageId":"25","endLine":4,"endColumn":48},{"ruleId":"22","severity":1,"message":"28","line":7,"column":8,"nodeType":"24","messageId":"25","endLine":7,"endColumn":13},{"ruleId":"22","severity":1,"message":"29","line":24,"column":10,"nodeType":"24","messageId":"25","endLine":24,"endColumn":15},{"ruleId":"22","severity":1,"message":"30","line":24,"column":17,"nodeType":"24","messageId":"25","endLine":24,"endColumn":25},{"ruleId":"31","severity":1,"message":"32","line":43,"column":6,"nodeType":"33","endLine":43,"endColumn":8,"suggestions":"34"},"no-unused-vars","'Col' is defined but never used.","Identifier","unusedVar","'Table' is defined but never used.","'Linkedin' is defined but never used.","'crest' is defined but never used.","'users' is assigned a value but never used.","'setUsers' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'token'. Either include it or remove the dependency array.","ArrayExpression",["35"],{"desc":"36","fix":"37"},"Update the dependencies array to be: [token]",{"range":"38","text":"39"},[1111,1113],"[token]"]